{"version":3,"sources":["services/personService.js","components/Heading.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","axios","get","then","res","data","newObject","post","id","put","concat","delete","Heading","_ref","type","text","react_default","a","createElement","Filter","onChange","value","htmlFor","PersonForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","required","Persons","persons","onClick","map","person","key","className","name","number","Notification","message","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","filterInput","setFilterInput","_useState9","_useState10","filteredPersons","setFilteredPersons","_useState11","_useState12","setMessage","useEffect","removePerson","contact","window","confirm","filter","handleReset","catch","err","handleMessage","setTimeout","components_Notification","components_Heading","components_Filter","event","target","toLowerCase","includes","components_PersonForm","preventDefault","personExists","length","response","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a16290f5.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(res => res.data);\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(res => res.data);\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(res => res.data);\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(res => res.data);\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n};\n","import React from 'react';\n\nconst Heading = ({ type, text }) => {\n    return type === 'h2' ? <h2>{text}</h2> : <h3>{text}</h3>;\n};\n\nexport default Heading;","import React from 'react';\n\nconst Filter = ({ onChange, value }) => {\n    return (\n        <div>\n            <label htmlFor=\"filter\">Filter shown with:</label>\n            <input id=\"filter\" type=\"text\" onChange={onChange} value={value} />\n        </div>\n    );\n};\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = ({ handleSubmit, handleNameChange, handleNumberChange, newName, newNumber }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <label htmlFor=\"name\">Name: </label>\n                <input id=\"name\" type=\"text\" onChange={handleNameChange} value={newName} required />\n            </div>\n            <div>\n                <label htmlFor=\"number\">Number: </label>\n                <input id=\"number\" type=\"text\" onChange={handleNumberChange} value={newNumber} required />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Persons = ({ persons, onClick }) => {\n\n    const renderPersons = () =>\n        persons.map(\n            person =>\n                <p key={person.id} className=\"person\">\n                    {person.name} {person.number} &nbsp;\n                    <button onClick={() => onClick(person)}>delete</button>\n                </p>\n        );\n\n    return (\n        <div>\n            {renderPersons()}\n        </div>\n    );\n};\n\nexport default Persons;","import React from 'react';\n\nconst Notification = ({ message }) => {\n    if (message === null) return null;\n\n    return (\n        <div className={message.type}>\n            {message.text}\n        </div>\n    );\n};\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport personService from './services/personService';\nimport Heading from './components/Heading';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filterInput, setFilterInput] = useState('');\n    const [filteredPersons, setFilteredPersons] = useState([]);\n    const [message, setMessage] = useState(null);\n\n    // get\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(res => setPersons(res));\n    }, []);\n\n    // post\n    const createUpdatePerson = (event) => {\n        event.preventDefault();\n\n        const newObject = { name: newName, number: newNumber };\n        const personExists = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase());\n\n        const create = () => {\n            personService\n                .create(newObject)\n                .then(res => {\n                    setPersons(persons.concat(res));\n                    handleMessage({ text: `Added ${newName}`, type: 'success' });\n                })\n                .catch(err => handleMessage({ text: err.response.data.err, type: 'error' }));\n        };\n\n        const update = () => {\n            return window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)\n                ? personService\n                    .update(personExists[0].id, newObject)\n                    .then(res => {\n                        setPersons(\n                            persons.map(person =>\n                                person.name.toLowerCase() !== newName.toLowerCase()\n                                    ? person\n                                    : res\n                            ));\n                        handleMessage({ text: `Updated ${newName}`, type: 'success' });\n                    })\n                    .catch(err => {\n                        setPersons(persons.filter(person => person.name !== newName));\n                        handleMessage({ text: `Information of ${newName} has already been removed from the server`, type: 'error' });\n                    })\n                : false\n        };\n\n        !personExists.length\n            ? create()\n            : update()\n\n        handleReset();\n    };\n\n    // delete\n    const removePerson = () => {\n        return (contact) => {\n            return window.confirm(`Delete ${contact.name} ?`)\n                ? personService\n                    .remove(contact.id)\n                    .then(() => {\n                        setPersons(persons.filter(person => person.id !== contact.id));\n                        handleReset();\n                    })\n                    .catch(err => {\n                        setPersons(persons.filter(person => person.id !== contact.id));\n                        handleMessage({ text: `Information of ${newName} has already been removed from the server`, type: 'error' });\n                    })\n                : false\n        };\n    };\n\n    const handleReset = () => {\n        setNewName('');\n        setNewNumber('');\n        setFilterInput('');\n        setFilteredPersons([]);\n    }\n\n    const handlePersonsChange = (event) => {\n        setFilterInput(event.target.value)\n        setFilteredPersons(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())));\n    };\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleMessage = (message) => {\n        setMessage(message);\n        setTimeout(() => setMessage(null), 5000);\n    };\n\n    return (\n        <div>\n            <Notification message={message} />\n\n            <Heading type={'h2'} text={'Phonebook'} />\n            <Filter onChange={handlePersonsChange} value={filterInput} />\n            <Heading type={'h3'} text={'Add a New'} />\n            <PersonForm\n                handleSubmit={createUpdatePerson}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                newName={newName}\n                newNumber={newNumber}\n            />\n            <Heading type={'h3'} text={'Numbers'} />\n            {\n                !filteredPersons.length\n                    ? <Persons persons={persons} onClick={removePerson()} />\n                    : <Persons persons={filteredPersons} onClick={removePerson()} />\n            }\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}